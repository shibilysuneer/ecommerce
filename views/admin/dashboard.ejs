<%- include('../layouts/admin/header.ejs') %>



    <!-- section-content-right -->
    <div class="section-content-right">
        <!-- header-dashboard -->
        <div class="header-dashboard">
            <div class="wrap">
                <div class="header-left">
                    <a href="index.html">
                        <img class="" id="logo_header_mobile" alt="" src="images/logo/logo.png"
                            data-light="images/logo/logo.png" data-dark="images/logo/logo-dark.png" data-width="154px"
                            data-height="52px" data-retina="images/logo/logo@2x.png">
                    </a>
                    <div class="button-show-hide">
                        <i class="icon-menu-left"></i>
                    </div>
                    <form class="form-search flex-grow">
                        <fieldset class="name">
                            <input type="text" placeholder="Search here..." class="show-search" name="name" tabindex="2"
                                value="" aria-required="true" required="">
                        </fieldset>
                        <div class="button-submit">
                            <button class="" type="submit"><i class="icon-search"></i></button>
                        </div>
                        <div class="box-content-search" id="box-content-search">
                            <ul class="mb-24">
                                <li class="mb-14">
                                    <div class="body-title">Top selling product</div>
                                </li>
                                <li class="mb-14">
                                    <div class="divider"></div>
                                </li>
                                <li>
                                    <ul>
                                        <li class="product-item gap14 mb-10">
                                            <div class="image no-bg">
                                                <img src="images/products/17.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="prohtmlduct-list." class="body-text">Dog Food Rachael Ray
                                                        NutrishÂ®</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mb-10">
                                            <div class="divider"></div>
                                        </li>
                                        <li class="product-item gap14 mb-10">
                                            <div class="image no-bg">
                                                <img src="images/products/18.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Natural Dog Food
                                                        Healthy Dog Food</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mb-10">
                                            <div class="divider"></div>
                                        </li>
                                        <li class="product-item gap14">
                                            <div class="image no-bg">
                                                <img src="images/products/19.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Freshpet Healthy Dog
                                                        Food and Cat</a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <ul class="">
                                <li class="mb-14">
                                    <div class="body-title">Order product</div>
                                </li>
                                <li class="mb-14">
                                    <div class="divider"></div>
                                </li>
                                <li>
                                    <ul>
                                        <li class="product-item gap14 mb-10">
                                            <div class="image no-bg">
                                                <img src="images/products/20.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Sojos Crunchy Natural
                                                        Grain Free...</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mb-10">
                                            <div class="divider"></div>
                                        </li>
                                        <li class="product-item gap14 mb-10">
                                            <div class="image no-bg">
                                                <img src="images/products/21.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Kristin Watson</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mb-10">
                                            <div class="divider"></div>
                                        </li>
                                        <li class="product-item gap14 mb-10">
                                            <div class="image no-bg">
                                                <img src="images/products/22.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Mega Pumpkin Bone</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="mb-10">
                                            <div class="divider"></div>
                                        </li>
                                        <li class="product-item gap14">
                                            <div class="image no-bg">
                                                <img src="images/products/23.png" alt="">
                                            </div>
                                            <div class="flex items-center justify-between gap20 flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">Mega Pumpkin Bone</a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </form>
                </div>
                <div class="header-grid">
                    <!-- <div class="header-item country">
                            <select class="image-select no-text">
                                <option data-thumbnail="images/country/1.png">ENG</option>
                                <option data-thumbnail="images/country/9.png">VIE</option>
                            </select>
                        </div> -->
                    <div class="header-item button-dark-light">
                        <i class="icon-moon"></i>
                    </div>
                    <div class="popup-wrap noti type-header">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="header-item">
                                    <span class="text-tiny">1</span>
                                    <i class="icon-bell"></i>
                                </span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end has-content"
                                aria-labelledby="dropdownMenuButton1">
                                <li>
                                    <h6>Message</h6>
                                </li>
                                <li>
                                    <div class="noti-item w-full wg-user active">
                                        <div class="image">
                                            <img src="images/avatar/user-11.png" alt="">
                                        </div>
                                        <div class="flex-grow">
                                            <div class="flex items-center justify-between">
                                                <a href="#" class="body-title">Shibily</a>
                                                <div class="time">10:13 PM</div>
                                            </div>
                                            <div class="text-tiny">Hello?</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="noti-item w-full wg-user active">
                                        <div class="image">
                                            <img src="images/avatar/user-12.png" alt="">
                                        </div>
                                        <div class="flex-grow">
                                            <div class="flex items-center justify-between">
                                                <a href="#" class="body-title">Ralph Edwards</a>
                                                <div class="time">10:13 PM</div>
                                            </div>
                                            <div class="text-tiny">Are you there? interested i this...</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="noti-item w-full wg-user active">
                                        <div class="image">
                                            <img src="images/avatar/user-13.png" alt="">
                                        </div>
                                        <div class="flex-grow">
                                            <div class="flex items-center justify-between">
                                                <a href="#" class="body-title">Eleanor Pena</a>
                                                <div class="time">10:13 PM</div>
                                            </div>
                                            <div class="text-tiny">Interested in this loads?</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="noti-item w-full wg-user active">
                                        <div class="image">
                                            <img src="images/avatar/user-11.png" alt="">
                                        </div>
                                        <div class="flex-grow">
                                            <div class="flex items-center justify-between">
                                                <a href="#" class="body-title">Jane Cooper</a>
                                                <div class="time">10:13 PM</div>
                                            </div>
                                            <div class="text-tiny">Okay...Do we have a deal?</div>
                                        </div>
                                    </div>
                                </li>
                                <li><a href="#" class="tf-button w-full">View all</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="popup-wrap message type-header">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton2"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="header-item">
                                    <span class="text-tiny">1</span>
                                    <i class="icon-message-square"></i>
                                </span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end has-content"
                                aria-labelledby="dropdownMenuButton2">
                                <li>
                                    <h6>Notifications</h6>
                                </li>
                                <li>
                                    <div class="message-item item-1">
                                        <div class="image">
                                            <i class="icon-noti-1"></i>
                                        </div>
                                        <div>
                                            <div class="body-title-2">Discount available</div>
                                            <div class="text-tiny">Morbi sapien massa, ultricies at rhoncus at,
                                                ullamcorper nec diam</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="message-item item-2">
                                        <div class="image">
                                            <i class="icon-noti-2"></i>
                                        </div>
                                        <div>
                                            <div class="body-title-2">Account has been verified</div>
                                            <div class="text-tiny">Mauris libero ex, iaculis vitae rhoncus et</div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="message-item item-3">
                                        <div class="image">
                                            <i class="icon-noti-3"></i>
                                        </div>
                                        <div>
                                            <div class="body-title-2">Order shipped successfully</div>
                                            <div class="text-tiny">Integer aliquam eros nec sollicitudin sollicitudin
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="message-item item-4">
                                        <div class="image">
                                            <i class="icon-noti-4"></i>
                                        </div>
                                        <div>
                                            <div class="body-title-2">Order pending: <span>ID 305830</span></div>
                                            <div class="text-tiny">Ultricies at rhoncus at ullamcorper</div>
                                        </div>
                                    </div>
                                </li>
                                <li><a href="#" class="tf-button w-full">View all</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="header-item button-zoom-maximize">
                        <div class="">
                            <i class="icon-maximize"></i>
                        </div>
                    </div>
                    <div class="popup-wrap apps type-header">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton4"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="header-item">
                                    <i class="icon-grid"></i>
                                </span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end has-content"
                                aria-labelledby="dropdownMenuButton4">
                                <li>
                                    <h6>Related apps</h6>
                                </li>
                                <li>
                                    <ul class="list-apps">
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-1.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Photoshop</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-2.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">illustrator</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-3.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Sheets</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-4.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Gmail</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-5.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Messenger</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-6.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Youtube</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-7.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Flaticon</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-8.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">Instagram</div>
                                            </a>
                                        </li>
                                        <li class="item">
                                            <div class="image">
                                                <img src="images/apps/item-9.png" alt="">
                                            </div>
                                            <a href="#">
                                                <div class="text-tiny">PDF</div>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#" class="tf-button w-full">View all app</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="popup-wrap user type-header">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton3"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="header-user wg-user">
                                    <span class="image">
                                        <img src="images/avatar/user-1.png" alt="">
                                    </span>
                                    <span class="flex flex-column">
                                        <span class="body-title mb-2">Shibily</span>
                                        <span class="text-tiny">Admin</span>
                                    </span>
                                </span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end has-content"
                                aria-labelledby="dropdownMenuButton3">
                                <li>
                                    <a href="#" class="user-item">
                                        <div class="icon">
                                            <i class="icon-user"></i>
                                        </div>
                                        <div class="body-title-2">Account</div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="user-item">
                                        <div class="icon">
                                            <i class="icon-mail"></i>
                                        </div>
                                        <div class="body-title-2">Inbox</div>
                                        <div class="number">27</div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="user-item">
                                        <div class="icon">
                                            <i class="icon-file-text"></i>
                                        </div>
                                        <div class="body-title-2">Taskboard</div>
                                    </a>
                                </li>
                                <li>
                                    <a href="setting.html" class="user-item">
                                        <div class="icon">
                                            <i class="icon-settings"></i>
                                        </div>
                                        <div class="body-title-2">Setting</div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="user-item">
                                        <div class="icon">
                                            <i class="icon-headphones"></i>
                                        </div>
                                        <div class="body-title-2">Support</div>
                                    </a>
                                </li>
                                <li>
                                    <a href="login.html" class="user-item">
                                        <div class="icon">
                                            <i class="icon-log-out"></i>
                                        </div>
                                        <div class="body-title-2">Log out</div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /header-dashboard -->
        <!-- main-content -->
        <div class="main-content">
            <!-- main-content-wrap -->
            <div class="main-content-inner">
                <!-- main-content-wrap -->
                <div class="main-content-wrap">
                    <div class="tf-section-2 mb-30">
                        <div class="flex gap20 align-items-center justify-between flex-wrap-mobile">
                            <div class="w-half flex flex-column gap-20">
                                <!-- chart-default -->
                                <div class="wg-chart-default mb-20">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap14">
                                            <div class="image">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="52"
                                                    viewBox="0 0 48 52" fill="none">
                                                    <path opacity="0.08"
                                                        d="M19.1086 2.12943C22.2027 0.343099 26.0146 0.343099 29.1086 2.12943L42.4913 9.85592C45.5853 11.6423 47.4913 14.9435 47.4913 18.5162V33.9692C47.4913 37.5418 45.5853 40.8431 42.4913 42.6294L29.1086 50.3559C26.0146 52.1423 22.2027 52.1423 19.1086 50.3559L5.72596 42.6294C2.63194 40.8431 0.725956 37.5418 0.725956 33.9692V18.5162C0.725956 14.9435 2.63195 11.6423 5.72596 9.85592L19.1086 2.12943Z"
                                                        fill="url(#paint0_linear_53_110)" />
                                                    <defs>
                                                        <linearGradient id="paint0_linear_53_110" x1="-43.532"
                                                            y1="-34.3465" x2="37.6769" y2="43.9447"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#92BCFF" />
                                                            <stop offset="1" stop-color="#2377FC" />
                                                        </linearGradient>
                                                    </defs>
                                                </svg>
                                                <i class="icon-shopping-bag"></i>
                                            </div>
                                            <div>
                                                <div class="body-text mb-2">Total Sales</div>
                                                <h4>
                                                    â¹<%= totalAmount %>
                                                </h4>
                                            </div>
                                        </div>
                                        <div class="box-icon-trending up">
                                            <i class="icon-trending-up"></i>
                                            <div class="body-title number">1.56%</div>
                                        </div>
                                    </div>
                                    <div class="wrap-chart">
                                        <div id="line-chart-1"></div>
                                    </div>
                                </div>
                                <!-- /chart-default -->
                                <!-- chart-default -->
                                <div class="wg-chart-default mb-20">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap14">
                                            <div class="image">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="52"
                                                    viewBox="0 0 48 52" fill="none">
                                                    <path opacity="0.08"
                                                        d="M19.1086 2.12943C22.2027 0.343099 26.0146 0.343099 29.1086 2.12943L42.4913 9.85592C45.5853 11.6423 47.4913 14.9435 47.4913 18.5162V33.9692C47.4913 37.5418 45.5853 40.8431 42.4913 42.6294L29.1086 50.3559C26.0146 52.1423 22.2027 52.1423 19.1086 50.3559L5.72596 42.6294C2.63194 40.8431 0.725956 37.5418 0.725956 33.9692V18.5162C0.725956 14.9435 2.63195 11.6423 5.72596 9.85592L19.1086 2.12943Z"
                                                        fill="url(#paint0_linear_53_110)" />
                                                    <defs>
                                                        <linearGradient id="paint0_linear_53_110" x1="-43.532"
                                                            y1="-34.3465" x2="37.6769" y2="43.9447"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#92BCFF" />
                                                            <stop offset="1" stop-color="#2377FC" />
                                                        </linearGradient>
                                                    </defs>
                                                </svg>
                                                <i class="icon-dollar-sign"></i>
                                            </div>
                                            <div>
                                                <div class="body-text mb-2">Total Discount</div>
                                                <h4>â¹<%= totalDiscount %></h4>
                                            </div>
                                        </div>
                                        <div class="box-icon-trending down">
                                            <i class="icon-trending-down"></i>
                                            <div class="body-title number">1.56%</div>
                                        </div>
                                    </div>
                                    <div class="wrap-chart">
                                        <div id="line-chart-2"></div>
                                    </div>
                                </div>
                                <!-- /chart-default -->
                                <!-- chart-default -->
                                <div class="wg-chart-default mb-20">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap14">
                                            <div class="image">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="52"
                                                    viewBox="0 0 48 52" fill="none">
                                                    <path opacity="0.08"
                                                        d="M19.1086 2.12943C22.2027 0.343099 26.0146 0.343099 29.1086 2.12943L42.4913 9.85592C45.5853 11.6423 47.4913 14.9435 47.4913 18.5162V33.9692C47.4913 37.5418 45.5853 40.8431 42.4913 42.6294L29.1086 50.3559C26.0146 52.1423 22.2027 52.1423 19.1086 50.3559L5.72596 42.6294C2.63194 40.8431 0.725956 37.5418 0.725956 33.9692V18.5162C0.725956 14.9435 2.63195 11.6423 5.72596 9.85592L19.1086 2.12943Z"
                                                        fill="url(#paint0_linear_53_110)" />
                                                    <defs>
                                                        <linearGradient id="paint0_linear_53_110" x1="-43.532"
                                                            y1="-34.3465" x2="37.6769" y2="43.9447"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#92BCFF" />
                                                            <stop offset="1" stop-color="#2377FC" />
                                                        </linearGradient>
                                                    </defs>
                                                </svg>
                                                <i class="icon-file"></i>
                                            </div>
                                            <div>
                                                <div class="body-text mb-2">Orders Paid</div>
                                                <h4><%= orderStatusMap.delivered %></h4>
                                            </div>
                                        </div>
                                        <div class="box-icon-trending">
                                            <i class="icon-trending-up"></i>
                                            <div class="body-title number">0.00%</div>
                                        </div>
                                    </div>
                                    <div class="wrap-chart">
                                        <div id="line-chart-3"></div>
                                    </div>
                                </div>
                               
                            </div>
                           
                        </div>
                        <!-- earnings -->
                        <div class="wg-box">
                            <div class="flex items-center justify-between">
                                <h5>sales</h5>
                                <div class="dropdown default">
                               
                    <!-- <! ----------------------------------------------------------------------------------------------------------------- --> -->
                                <form action="/admin/dashboard" id="filterForm" method="GET">
                                    <!-- <div> -->
                                        <label for="timeFilter">Select Time Range:</label>
                                        <select id="timeFilter" name="filterType">
                                            <option value="daily" <%=filterType==='daily' ? 'selected' : '' %>>Daily</option>
                                            <option value="weekly" <%=filterType==='weekly' ? 'selected' : '' %>>Weekly</option>
                                            <option value="monthly" <%=filterType==='monthly' ? 'selected' : '' %>>Monthly</option>
                                            <option value="yearly" <%=filterType==='yearly' ? 'selected' : '' %>>Yearly</option>
                                            <option value="custom" <%=filterType==='custom' ? 'selected' : '' %>>Custom</option>
                                        </select>
                                        
                                        <div id="customDate" >
                                            <label for="startDate">Start Date:</label>
                                            <input type="date" id="startDate" name="startDate" value="<%=startDate ? new Date(startDate).toLocaleDateString('en-CA') :'' %>">
                                            
                                            <label for="endDate">End Date:</label>
                                            <input type="date" id="endDate" name="endDate" value="<%=endDate ? new Date(endDate).toLocaleDateString('en-CA') : '' %>">
                                        </div>
                                        
                                        <button type="submit"> Filter</button>
                                    <!-- </div> -->
                                </form>
                                


<!-- ------------------------------------------------------------------------------------------------------- -->
                                </div>
                            </div>
                            <div class="flex flex-wrap gap40">
                                <div>
                                    <div class="mb-2">
                                        <div class="block-legend">
                                            <div class="dot t1"></div>
                                            <div class="text-tiny">sales</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap10">
                                        <h4>
                                            <%= totalAmount.toFixed(2) %>
                                        </h4>
                                        
                                    </div>
                                </div>
                                
                            </div>
                            <!-- <canvas id="salesChart" ></canvas> -->
                            <div class="wg-box" style="width: 100%; max-width: 1200px;">
                                <canvas id="salesChart"></canvas>
                            </div>
                           
                        </div>
                        <!-- /earnings -->
                    </div>
                    <!-- ////////////////////////////////////////// -->
                  <div class="row">
                    <!--doughnut Section -->
                    <div class="chart col-lg-6 d-block">
                        <div class="col-lg-12 pb-5 ps-5 align-content-center ms-5">
                            <div class="col-8 my-5">
                                <canvas id="doughnut" width="400" height="400"></canvas>
                            </div>
                            <h4 class="mx-5 my-3 text-decoration-underline">Profit & Sales : <%= filterType %></h4>
                            <h5>Total orders : <%= salesCount %></h5>
                            <h5>Total Revenue : â¹ <%= totalAmount %></h5>
                            <h5>Total Discount : â¹ <%= totalDiscount %></h5>
                        </div>
                    </div>
                
                    <!-- Order Statuses Section -->
                    <div class="chart col-lg-6 d-block">
                        <div class="col-lg-12 pb-5 ps-5 align-content-center ms-5">
                            <div class="col-8 my-5">
                                <canvas id="polarArea"></canvas>
                            </div>
                            <h4 class="mx-5 my-3 text-decoration-underline">Order Statuses : <%= filterType %></h4>
                            <h5 class="ps-5 statuses">Total orders : <%= salesCount %></h5>
                            <div class="ps-5 statuses">
                                <h6>Total Processing : <%= orderStatusMap.pending %></h6>
                                <h6>Total Shipped : <%= orderStatusMap.shipped %></h6>
                                <h6>Total Delivered : <%= orderStatusMap.delivered %></h6>
                                <h6>Total Cancelled : <%= orderStatusMap.canceled %></h6>
                                <h6>Total ReturnRequest : <%= orderStatusMap["returnRequest"] %></h6>
                                <h6>Total Returned : <%= orderStatusMap.returned %></h6>
                            </div>
                        </div>
                    </div>
                  </div>
                
<!-- ///////////////////////////////////////////////////////////////// -->

                    <!-- ghgjbkjbk--------------------------------- -->
                    <div class="tf-section-3">
                        <!-- top-product -->
                        <div class="wg-box ">
                            <div class="flex items-center justify-between">
                                <h5>Best products</h5>
                                <div class="dropdown default">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="icon-more"><i class="icon-more-horizontal"></i></span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a href="javascript:void(0);">This Week</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Last Week</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="wg-table table-top-product-1">
                                <ul class="table-title flex gap10 mb-14">
                                    <li>
                                        <div class="body-title">Product</div>
                                    </li>
                                    <li>
                                        <div class="body-title">Sold</div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>

                                </ul>
                                <ul class="flex flex-column gap18">
                                    <% bestSellingProducts.forEach(product=> { %>
                                        <li class="product-item">
                                            <!-- <div class="image small no-bg">
                                                <img src="images/products/36.png" alt="">
                                            </div> -->
                                            <div class="flex items-center justify-between flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">
                                                        <%= product.productName %>
                                                    </a>
                                                </div>
                                                <div>
                                                    <div class="rating-number">
                                                        <div class="icon">
                                                            <!-- <i class="icon-star1"></i> -->
                                                        </div>
                                                        <div class="number body-text"></div>
                                                    </div>
                                                </div>

                                                <div>
                                                    <div class="body-text">
                                                        <%= product.totalSold %>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="body-text"></div>
                                                </div>

                                            </div>
                                        </li>
                                        <% }) %>
                                </ul>
                            </div>
                        </div>
                        <!-- second -->
                        <div class="wg-box">
                            <div class="flex items-center justify-between">
                                <h5>Best Categories </h5>
                                <div class="dropdown default">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="icon-more"><i class="icon-more-horizontal"></i></span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a href="javascript:void(0);">This Week</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Last Week</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="wg-table table-top-product-1">
                                <ul class="table-title flex gap10 mb-14">
                                    <li>
                                        <div class="body-title">Product</div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>
                                    <li>
                                        <div class="body-title">Sold</div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>
                                </ul>
                                <ul class="flex flex-column gap18">
                                    <% bestSellingCategories.forEach(category=> { %>

                                        <li class="product-item">
                                            <!-- <div class="image small no-bg">
                                                <img src="images/products/36.png" alt="">
                                            </div> -->
                                            <div class="flex items-center justify-between flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">
                                                        <%= category.categoryName %>
                                                    </a>
                                                </div>
                                                <div>
                                                    <div class="rating-number">
                                                        <div class="icon">
                                                            <!-- <i class="icon-star1"></i> -->
                                                        </div>
                                                        <div class="number body-text"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="body-text">
                                                        <%= category.totalSold %>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="body-text"></div>
                                                </div>
                                            </div>
                                        </li>
                                        <% }) %>
                                </ul>
                            </div>
                        </div>
                        <!-- third -->
                        <div class="wg-box">
                            <div class="flex items-center justify-between">
                                <h5>Best Brands</h5>
                                <div class="dropdown default">
                                    <button class="btn btn-secondary dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="icon-more"><i class="icon-more-horizontal"></i></span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a href="javascript:void(0);">This Week</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);">Last Week</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="wg-table table-top-product-1">
                                <ul class="table-title flex gap10 mb-14">
                                    <li>
                                        <div class="body-title">Product</div>
                                    </li>
                                    <li>
                                        <div class="body-title">Sold</div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>
                                    <li>
                                        <div class="body-title"></div>
                                    </li>
                                </ul>
                                <ul class="flex flex-column gap18">
                                    <% bestSellingBrands.forEach(brand=> { %>

                                        <li class="product-item">
                                            <!-- <div class="image small no-bg">
                                                <img src="/admin/" alt="">
                                            </div> -->
                                            <div class="flex items-center justify-between flex-grow">
                                                <div class="name">
                                                    <a href="product-list.html" class="body-text">
                                                        <%= brand.brandName %>
                                                    </a>
                                                </div>
                                                <div>
                                                    <div class="rating-number">
                                                        <div class="icon">
                                                            <!-- <i class="icon-star1"></i> -->
                                                        </div>
                                                        <div class="number body-text"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="body-text">
                                                        <%= brand.totalSold %>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="body-text"></div>
                                                </div>
                                            </div>
                                        </li>
                                        <% }) %>
                                </ul>
                            </div>
                        </div>

                    </div>
                    <!-- -------------------------------------------------------- -->


                </div>
                <!-- /main-content-wrap -->
            </div>
            <!-- /main-content-wrap -->
            <!-- bottom-page -->
            <div class="bottom-page">
                <div class="body-text">Copyright Â© 2024 Remos. Design with</div>
                <i class="icon-heart"></i>
                <div class="body-text">by <a href="https://themeforest.net/user/themesflat/portfolio">Themesflat</a> All
                    rights reserved.</div>
            </div>
            <!-- /bottom-page -->
        </div>
        <!-- /main-content -->
    </div>
    <!-- /section-content-right -->
    </div>
    <!-- /layout-wrap -->
    </div>
    <!-- /#page -->
    </div>
    <!-- /#wrapper -->

    <!-- Javascript -->
    <!-- chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.min.js"></script>
    <script src="js/zoom.js"></script>
    <script src="js/jvectormap-1.2.2.min.js"></script>
    <script src="js/jvectormap-us-lcc.js"></script>
    <script src="js/jvectormap.js"></script>
    <script src="js/morris.min.js"></script>
    <script src="js/raphael.min.js"></script>
    <script src="js/morris.js"></script>
    <script src="js/apexcharts/apexcharts.js"></script>
    <script src="js/apexcharts/line-chart-1.js"></script>
    <script src="js/apexcharts/line-chart-2.js"></script>
    <script src="js/apexcharts/line-chart-3.js"></script>
    <script src="js/apexcharts/line-chart-4.js"></script>
    <script src="js/apexcharts/line-chart-8.js"></script>
    <script src="js/apexcharts/line-chart-9.js"></script>
    <script src="js/apexcharts/line-chart-10.js"></script>
    <!-- <script src="js/switcher.js"></script> -->
    <script src="js/theme-settings.js"></script>
    <script src="js/main.js"></script>

    </body>

    </html>
  
<script>
     document.addEventListener('DOMContentLoaded', () => {
    const filterType = document.querySelector('[name="filterType"]');
    const customDateSection = document.getElementById('customDate');

    const toggleCustomDate = () => {
      if (filterType.value === 'custom') {
        customDateSection.classList.remove('d-none');
        customDateSection.classList.add('d-flex');

      } else {
        customDateSection.classList.remove('d-flex');
        customDateSection.classList.add('d-none');
      }
    };
    filterType.addEventListener('change', toggleCustomDate);
    toggleCustomDate();
     })

     const labels = <%- JSON.stringify(labels) %>; // Ensure this outputs a valid JS array
     const sales = <%- JSON.stringify(sales) %>;
     // Line Chart: Shows total sales over the selected period
  const lineChart = new Chart(document.getElementById('salesChart'), {
    type: 'line',
    data: {
      labels:  labels ,
      datasets: [{
        label: 'totalSales',
        data: sales ,
        borderColor: '#ffcd56',
        backgroundColor: '#ffcd56',
        fill: false,
        tension: .3,
        pointBackgroundColor: '#ffcd56',
        borderWidth: 2,
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: {
          beginAtZero: true
        },
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
<!-- dounout -->

  <script>
    var ctxDoughnut = document.getElementById('doughnut').getContext('2d');
    var doughnutChart = new Chart(ctxDoughnut, {
        type: 'doughnut',
        data: {
            labels: ['Total Revenue', 'Total Discount'],
            datasets: [{
                data: [<%= totalAmount.toFixed(2) %>, <%= totalDiscount.toFixed(2) %>],
                backgroundColor: ['#ff9f40', '#ffba00'],
                hoverBackgroundColor: ['#36a2eb', '#ff6384'],
                borderColor: '#fff',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    enabled: true,
                }
            }
        }
    });
</script>
<script>
    var ctxPolarArea = document.getElementById('polarArea').getContext('2d');
    var polarAreaChart = new Chart(ctxPolarArea, {
        type: 'polarArea',
        data: {
            labels: ['Processing', 'Shipped', 'Delivered', 'Cancelled', 'Return Request', 'Returned'],
            datasets: [{
                data: [
                    <%= orderStatusMap.pending %>,
                    <%= orderStatusMap.shipped %>,
                    <%= orderStatusMap.delivered %>,
                    <%= orderStatusMap.canceled %>,
                    <%= orderStatusMap["returnRequest"] %>,
                    <%= orderStatusMap.returned %>
                ],
                backgroundColor: ['#ff9f40', '#4bc0c0', '#ff6384', '#36a2eb', '#9966ff', '#ffcd56'],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'right',
                },
                tooltip: {
                    enabled: true,
                }
            }
        }
    });
</script>


  